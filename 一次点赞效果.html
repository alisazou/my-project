<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>+1</title>
    <style type="text/css">
    
.text{width: 50px;height: 50px;border:1px solid red;text-align: center;line-height: 50px;margin: 10px;cursor: pointer;-webkit-user-select:none;}

</style>
</head>

<body>

    <!-- <input type="button" value="点我" id="btn" style="width:50px;margin:100px;" onclick="numPop(event, '+1');">
    -->
    <div class="text">
        <span class="num">1</span>
    </div>
    <div class="text">
        <span class="num">1</span>
    </div>
    <div class="text">
        <span class="num">1</span>
    </div>
    <script type="text/javascript" src="jquery-1.11.1.min.js"></script>
    <script type="text/javascript">
    $(function(){
        $(".text").one("click",function(event){
              event.preventDefault(); 
             var left = parseInt($(this).offset().left)+10, top =  parseInt($(this).offset().top)-10;
             var html = '<div id="pop_num">'+ '1' +'</div>';
             $('body').append(html);
               var $num =  parseInt($(this).find('span').text());
            if (!$("#pop_num").is(":animated")) {
             console.log("a");  
                                                 
                     $("#pop_num").css({
                        'position':'absolute',
                        'top':top+'px',
                        'left':left+'px',
                        'font-size':'12px',
                        'color':'#f30'
                     }).animate({
                        'top':top-10,
                        'left':left+10
                     },'show',function(){
                         $("#pop_num").fadeIn('fast').remove();
                     })
                      $num++;
                      $(this).find("span").text($num);
            } else{
                $("#pop_num").hide();
                // $(this).stop();
                // $(".text").css("background","red")
                 console.log("v");  
            } 


        });
    });
// function numPop(event, str){
//  var left = parseInt($(this).offset().left)+10, top =  parseInt($(this).offset().top)-10
//     var html = '<div id="pop_num">'+ str +'</div>';
//     $('body').append(html);
//     $('#pop_num').css({
//         'position': 'absolute',
//         'top': top + 'px',
//         'left': left + 'px',
//         'font-size': '12px',
//         'color': '#f30'
//     }).animate({
//         top:top-10,
//         left:left+10
//     },'show',function(){
//         $("#pop_num").fadeIn('fast').remove()

//     });
    
//     // $('#pop_num').animate({
//     //     'font-size': '15px',
//     //     'opacity': '0'
//     // },'slow', function(){
//     //     $(this).remove();
//     // });
// }
</script>

</body>
</html>